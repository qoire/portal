<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Creating and Updating Records</title>
</head>

<body bgcolor=white>
<p align=center><font size=2><a href=index.htm>Table of Contents</a></font></p>
<h2>Creating and Editing Records</h2>
<p>To modify records, you need the Professional, Advanced or Enterprise version 
  of phpLens. Using phpLens to generate forms is a productivity boost because
<ul>
  <li>Input fields are autogenerated for you.</li>
  <li>Must fill fields are autodetected on the browser (using Javascript) and 
    also by the server (when Javascript is disabled on the client).</li>
  <li>The maximum field length and text box width is set for you automatically 
    based on the field size.</li>
  <li>Long text columns are autodetected and displayed as textarea input fields.</li>
  <li>Field validation using Visual Basic style input masks or Javascript regular 
    expressions are supported.</li>
  <li>Popups, check boxes and radio buttons are automatically created based on 
    lookupLens and inputTypeLens settings.</li>
  <li>Image (gif, png, jpeg) display and upload is supported if the field is a 
    BLOB or IMAGE type.</li>
  <li>Better security as phpLens prevents unauthorized fields from being accessed 
    using a fake input form.</li>
  <li> Template support to separate presentation from logic in Advanced and Enterprise 
    versions.</li>
  <li>High level abstraction of forms makes design and implementation of Web sites 
    faster and easier.</li>
</ul>
<p>Before phpLens can modify records, it needs to know the name of the table and 
  the primary key of the table it is modifying. The primary key is a number or 
  string that allows you to uniquely identify the record. For example, for a person 
  the primary key could be the driver's license, the social security number or 
  the identity card number. If you are using a simple select statement, phpLens 
  can automatically identify the table. The primary key needs to be based on a 
  single column currently. 
<p>To configure editing from the dynamic editor, click on the phpLens global settings 
  <img src="img/editbtn.gif" width="14" height="13"> icon. Scroll past the color 
  settings until you see the following: 
<p>&nbsp;
<table width="602" border="1" align="center">
  <tr> 
    <td> <img src="img/edit1.gif" width="602" height="192"></td>
  </tr>
</table>
<p>In the above example, phpLens could not auto-detect the primary key. So you 
  have to enter the primary key from the popup list on the left. Once selected, 
  you can click the following checkboxes:</p>
<table width="602" border="1" align="center">
  <tr> 
    <td> <img src="img/edit2.gif" width="588" height="159"></td>
  </tr>
</table>
<p>Then when you are looking on the phpLens grid, you can click on the New or 
  Edit buttons to create or update records. Similarly for deleting records.</p>
<p>You can configure the following things when creating records:</p>
<table width="100%" border="1">
  <tr> 
    <td height="18" width="19%"><b><font face="Arial, Helvetica, sans-serif">How 
      Do I...</font></b></td>
    <td height="18" width="66%"><b><font face="Arial, Helvetica, sans-serif">Solution</font></b></td>
    <td height="18" width="15%"><b><font face="Arial, Helvetica, sans-serif">Properties 
      modified</font></b></td>
  </tr>
  <tr> 
    <td width="19%">Decide on which fields to display</td>
    <td width="66%">Click on the green <img src="img/edittab.gif" width="14" height="13"> 
      icon to see the New Record Columns. Then move the fields from left to right 
      to display, and right to left to hide.</td>
    <td width="15%">newLens</td>
  </tr>
  <tr> 
    <td width="19%">Change the field title</td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and change that field's title.</td>
    <td width="15%">nameLens</td>
  </tr>
  <tr> 
    <td width="19%">Use a popup instead of a text field</td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and set the lookup values (options) 
      you want for the popup.</td>
    <td width="15%">lookupLens</td>
  </tr>
  <tr> 
    <td width="19%">Use a set of radio buttons instead of a text field.</td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and set the lookup values (options) 
      you want for the popup and click on the Use Radio Buttons setting. New to 
      phpLens 1.2.</td>
    <td width="15%">lookupLens, inputTypeLens</td>
  </tr>
  <tr> 
    <td width="19%">Have a set of save buttons. Each save button sets a different 
      value for a field. <i>Useful for approval and workflow forms.</i></td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and set the lookup values (options) 
      you want for the popup and click on the Use Submit Buttons setting. This 
      will hide the default Save button. New to phpLens 1.2.</td>
    <td width="15%">lookupLens, inputTypeLens</td>
  </tr>
  <tr> 
    <td width="19%">I do not want the user to be able to cancel</td>
    <td width="66%">Set the showCancel property to false programmatically.</td>
    <td width="15%">showCancel</td>
  </tr>
  <tr> 
    <td width="19%">Use a textarea field instead of text input field</td>
    <td width="66%">Click on the green <img src="img/edittab.gif" width="14" height="13"> 
      icon to see the New Record Columns screen. From the top of the screen, select 
      from the <i>Choose</i> popup the <i>Text Area Columns</i> option.Then move 
      the fields from left to right to use textareas, and right to left to use 
      normal input text fields.</td>
    <td width="15%">textareaLens</td>
  </tr>
  <tr> 
    <td width="19%">Change the textarea dimensions</td>
    <td width="66%">Modify the textAreaHeader property programmatically. In phpLens 
      1.1 onwards, you can specify the sizes of each textarea.</td>
    <td width="15%">textAreaHeader</td>
  </tr>
  <tr> 
    <td width="19%">Set default values </td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and enter the default value.</td>
    <td width="15%">defaultLens</td>
  </tr>
  <tr> 
    <td width="19%">Prevent users from modifying default values</td>
    <td width="66%">Click on the green <img src="img/edittab.gif" width="14" height="13"> 
      icon to see the New Record Columns screen. From the top of the screen, select 
      from the <i>Choose</i> popup the <i>Read Only Columns</i> option.Then move 
      the fields from left to right to make them read-only, and right to left 
      to make them modifiable.</td>
    <td width="15%">readOnlyLens</td>
  </tr>
  <tr> 
    <td width="19%">Control the SQL used to insert the data</td>
    <td width="66%">Requires the Advanced or Enterprise version of phpLens. Configure 
      the spNew property.</td>
    <td width="15%">spNew</td>
  </tr>
  <tr> 
    <td width="19%">Execute some PHP code before SQL insert is run</td>
    <td width="66%">Configure the eventPreInsertSQL property programmatically.</td>
    <td width="15%">eventPreInsertSQL</td>
  </tr>
  <tr> 
    <td width="19%">Execute some PHP code after SQL insert is run</td>
    <td width="66%">Configure the eventPostInsertSQL property programmatically.</td>
    <td width="15%">eventPostInsertSQL</td>
  </tr>
  <tr> 
    <td width="19%">Define an input field that phpLens should ignore</td>
    <td width="66%">Use templates. Requires Advanced or Enterprise version of 
      phpLens.</td>
    <td width="15%">templateNew</td>
  </tr>
  <tr> 
    <td width="19%">Validate the data</td>
    <td width="66%"> 
      <p>Set the field as a must fill, or define a validation expression. </p>
      <p>Click on the green <img src="img/edittab.gif" width="14" height="13"> 
        icon to see the New Record Columns screen. From the top of the screen, 
        select from the <i>Choose</i> popup the <i>Must Fill Columns</i> option.</p>
      <p>For more control, a validation expression can be defined as a Visual 
        Basic style input mask or a Javascript regular expression.</p>
    </td>
    <td width="15%">mustFill, validation</td>
  </tr>
</table>
<p>And these are the settings for editing records:</p>
<table width="100%" border="1">
  <tr> 
    <td height="18" width="18%"><b><font face="Arial, Helvetica, sans-serif">How 
      Do I...</font></b></td>
    <td height="18" width="66%"><b><font face="Arial, Helvetica, sans-serif">Solution</font></b></td>
    <td height="18" width="16%"><b><font face="Arial, Helvetica, sans-serif">Properties 
      modified</font></b></td>
  </tr>
  <tr> 
    <td width="18%">Decide on which fields to display</td>
    <td width="66%">CClick on the green <img src="img/edittab.gif" width="14" height="13"> 
      icon to see the Edit Columns screen. Then move the fields from left to right 
      to display, and right to left to hide.</td>
    <td width="16%">editLens</td>
  </tr>
  <tr> 
    <td width="18%">Change the field title </td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and change that field's title.</td>
    <td width="16%">nameLens</td>
  </tr>
  <tr> 
    <td width="18%">Use a popup instead of a text field</td>
    <td width="66%">Click on the white <img src="img/editcol.gif" width="14" height="13"> 
      icon for the field you want to modify and set the lookup values (options) 
      you want in the popup.</td>
    <td width="16%">lookupLens</td>
  </tr>
  <tr> 
    <td width="18%">Use a textarea field instead of text input field</td>
    <td width="66%">Click on the green <img src="img/edittab.gif" width="14" height="13"> 
      icon to see the Edit Columns screen. From the top of the screen, select 
      from the <i>Choose</i> popup the <i>Text Area Columns</i> option.Then move 
      the fields from left to right to use textareas, and right to left to use 
      normal input text fields.</td>
    <td width="16%">textareaLens</td>
  </tr>
  <tr> 
    <td width="18%">Change the textarea dimensions</td>
    <td width="66%">Modify the textAreaHeader property programmatically.</td>
    <td width="16%">textAreaHeader</td>
  </tr>
  <tr> 
    <td width="18%">Prevent users from modifying visible values</td>
    <td width="66%">Click on the green <img src="img/edittab.gif" width="14" height="13"> 
      icon to see the Edit Columns screen. From the top of the screen, select 
      from the <i>Choose</i> popup the <i>Read Only Columns</i> option. Then move 
      the fields from left to right to make them read-only, and right to left 
      to make them modifiable.</td>
    <td width="16%">readOnlyLens</td>
  </tr>
  <tr> 
    <td width="18%">Control the SQL used to insert the data</td>
    <td width="66%">Requires the Advanced or Enterprise version of phpLens. Configure 
      the spEdit property programmatically.</td>
    <td width="16%">spEdit</td>
  </tr>
  <tr> 
    <td width="18%">Execute some PHP code before SQL update is run</td>
    <td width="66%">Configure the eventPreUpdateSQL property programmatically.</td>
    <td width="16%">eventPreUpdateSQL</td>
  </tr>
  <tr> 
    <td width="18%">Execute some PHP code after SQL update is run</td>
    <td width="66%">Configure the eventPostUpdateSQL property programmatically.</td>
    <td width="16%">eventPostUpdateSQL</td>
  </tr>
  <tr> 
    <td width="18%">Define a field that phpLens should ignore</td>
    <td width="66%">Use templates. Requires Advanced or Enterprise version of 
      phpLens.</td>
    <td width="16%">templateEdit</td>
  </tr>
  <tr> 
    <td width="18%">Validate the data</td>
    <td width="66%"> 
      <p>Set the field as a must fill, or define a validation expression. </p>
      <p>Click on the green <img src="img/edittab.gif" width="14" height="13"> 
        icon to see the Edit Columns screen. From the top of the screen, select 
        from the <i>Choose</i> popup the <i>Must Fill Columns</i> option.</p>
      <p>For more control, a validation expression can be defined as a Visual 
        Basic style input mask or a Javascript regular expression.</p>
    </td>
    <td width="16%">mustFill, validation</td>
  </tr>
  <tr>
    <td width="18%">Allow image upload</td>
    <td width="66%">Make sure that the database field is of type BLOB or IMAGE, 
      and that the temporary upload directory property <i>imageTmpDir</i> (which 
      defaults to /tmp) is set correctly. If you do not have read-write access 
      to the /tmp directory, you will also need to modify the $TMP_DIR value in 
      the <i>phplens-img.php</i> file. This file is used to display any images 
      extracted from a database.</td>
    <td width="16%">imageTmpDir</td>
  </tr>
</table>
<h3>Details Editor</h3><p>
New to phpLens 1.2 is the ability to edit and create records in the detail grid. 
See the new drop-down list labelled <i>Child Editor in Detail Grid</i> just above
 the Key Table setting.</p>
</body>
</html>
