<div align=center><a href=javascript:history.back(1)>Back</a></div>
<html><head><title> defaultLens</title></head>
<body bgcolor=white>

<table bgcolor=#C0C0C0 align=center border=0 cellspacing=0 cellpadding=1>
<tr>


<td valign=top>
<TABLE COLS=1 width="100%"  BORDER=1 cellspacing=0 cellpadding=2 >
<TR><TD colspan=1 bgcolor=black><font color=#F0F0F0 size=2>Editing, Updating and Creating Records</b></font></td></tr><TR bgcolor=white valign=top><TD><font size=2>
<table border=0 cellspacing=0 width=100%>
<tr><td bgcolor=papayawhip><font color=black size=+1><b>defaultLens</b></font></td></tr>
<tr><td bgcolor=white>On new record, these are the default values of specified fields<hr>When creating a new record, you might want a default value to be automatically entered. You can enter a normal string (without quotes) or number, or generate the value dynamicly using PHP or your RDBMS.<br />
<br />
Default values can be hard-coded values, or you can execute PHP code if you prefix with the equals(=) character.<br />
<br />
Dates can either be generated in Unix timestamp format provided you return the value as an integer, or in 'Y-m-d H:i:s' format.<br />
<br />
<b>Executing PHP Code</b><br />
When you want the value to be dynamically generated by PHP, set the first character to an equals (=) to treat the following text as PHP code. <br />
<br />
To generate the current date, use the PHP time function like this:<br />
=time()<br />
<br />
To access the ADODB connection from here, use the following example, which passes the connection object to the getvalue function:<pre><br />
$lens->defaultLens = 'col1^=getvalue($this->lens->connection)';</pre><br />
<br />
<b>Executing SQL Code</b><br />
Sometimes, you have a read-only field whose value is generated by your SQL server and not by the user. You can do this by setting the first character to percentage (%) to treat the following text as SQL code. <br />
<br />
To set a column to a random number in Microsoft SQL server, use the rand function like this:<br />
%rand()<p><b>Syntax</b><br><code><font size=2>To set a field called thetime to the current datetime:<br />
<br />
$lens->defaultLens = 'thetime^=time()'<br />
<br />
<br />
To execute a standard SQL function for a field called rr:<br />
<br />
$lens->defaultLens = 'rr^%rand()';<br /></font></code><P> &nbsp;<font color=#C0C0C0>Free:No </font> &nbsp;<font color=#C0C0C0>Basic:No </font> &nbsp;<font color=#C04040><b>Pro:Yes</b></font> &nbsp;<font color=#C04040><b>Advanced/Enterprise:Yes</b></font> &nbsp;<font color=#40A040><b>DynamicEdit:Yes</b></font>&nbsp;&nbsp; <font size=2 color=#808080>[Version 1.0]</font></p>
</td></tr></table></font></TD></TR>

</TABLE>

</td>

</tr>
</table>
</body>
<!--
  (c)2000-2001 Remistech Sdn Bhd. All rights reserved.
  Generated: 2001-10-16 11:10
-->